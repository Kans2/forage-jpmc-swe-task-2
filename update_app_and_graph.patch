
From d3b02a02422768f30ee3f2b53a70cfd41ea7ed4f Mon Sep 17 00:00:00 2001
From: Kans2 <142505200+Kans2@users.noreply.github.com>
Date: Fri, 12 Jul 2024 03:49:48 +0000
Subject: [PATCH 1/4] updated new

---
 src/App.tsx   | 7 +++----
 src/Graph.tsx | 2 +-
 2 files changed, 4 insertions(+), 5 deletions(-)

diff --git a/src/App.tsx b/src/App.tsx
index d77909d..07d39db 100755
--- a/src/App.tsx
+++ b/src/App.tsx

/**
 * State declaration for <App />
 */
interface IState {
  data: ServerRespond[],
  showGraph:boolean,
}

@@ -43,7 +43,7 @@ class App extends Component<{}, IState> {
    */
   getDataFromServer() {
     let x = 0;
-    const intervel = setIntervel(()=>{
+    const intervel = setInterval(()=>{
       DataStreamer.getData((serverResponds: ServerRespond[]) => {
         // Update the state by creating a new array of data that consists of
         // Previous data in the state and the new data from server
@@ -54,9 +54,8 @@ class App extends Component<{}, IState> {
       });
       x++;
       if(x>1000){
-        clearIntervel(intervel)
-      },
-
+        clearInterval(intervel)
+      }
     },100)
  
   }
diff --git a/src/Graph.tsx b/src/Graph.tsx
index 84de27f..e016633 100644
--- a/src/Graph.tsx
+++ b/src/Graph.tsx
@@ -32,7 +32,7 @@ class Graph extends Component<IProps, {}> {
 
   componentDidMount() {
     // Get element to attach the table from the DOM.
-    const elem = PerspectiveViewerElement = document.getElementsByTagName('perspective-viewer')[0] as unknown as PerspectiveViewerElement;
+    const elem = document.getElementsByTagName('perspective-viewer')[0] as unknown as PerspectiveViewerElement;
 
     const schema = {
       stock: 'string',
-- 
2.25.1


From 8f4f8a08c8ed80f8d5a4924b6124aba1f83c0f3d Mon Sep 17 00:00:00 2001
From: Kans2 <142505200+Kans2@users.noreply.github.com>
Date: Fri, 12 Jul 2024 03:52:50 +0000
Subject: [PATCH 2/4] patch file

   //Garph.tsx
      // Add more Perspective configurations here.
      elem.load(this.table);
      elem.setAttribute('view','y-line');
      elem.setAttribute('column-pivots','["stock"]');
      elem.setAttribute('row-pivots','["timestamp"]');
      elem.setAttribute('columns`','["top_ask_price"]');
      elem.setAttribute('aggregates',`
        {"stock":"distinct count",
        "top_ask_price":"avg",
        "top_bid_price:"avg",
        "timestamp":"distinct count"}`);
      
